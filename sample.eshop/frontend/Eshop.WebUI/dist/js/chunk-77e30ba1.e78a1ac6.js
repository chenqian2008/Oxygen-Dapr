(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77e30ba1"],{"09fe":function(t,e,n){},2241:function(t,e,n){"use strict";var i,o=n("c31d"),a=n("2b0e"),r=n("d282"),s=n("ea8e"),c=n("b1d2"),l=n("6605"),u=n("b650"),d=Object(r["a"])("dialog"),h=d[0],f=d[1],g=d[2],b=h({mixins:[Object(l["a"])()],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")}},render:function(){var t,e,n=this,i=arguments[0];if(this.shouldRender){var o=this.message,a=this.messageAlign,r=this.slots(),l=this.slots("title")||this.title,d=l&&i("div",{class:f("header",{isolated:!o&&!r})},[l]),h=(r||o)&&i("div",{class:f("content")},[r||i("div",{domProps:{innerHTML:o},class:f("message",(t={"has-title":l},t[a]=a,t))})]),b=this.showCancelButton&&this.showConfirmButton,m=i("div",{class:[c["e"],f("footer",{buttons:b})]},[this.showCancelButton&&i(u["a"],{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||g("cancel")},class:f("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){n.handleAction("cancel")}}}),this.showConfirmButton&&i(u["a"],{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||g("confirm")},class:[f("confirm"),(e={},e[c["c"]]=b,e)],style:{color:this.confirmButtonColor},on:{click:function(){n.handleAction("confirm")}}})]);return i("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[i("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||o},class:[f(),this.className],style:{width:Object(s["a"])(this.width)}},[d,h,m])])}}}),m=n("a142");function p(t){return document.body.contains(t)}function v(){i&&i.$destroy(),i=new(a["a"].extend(b))({el:document.createElement("div"),propsData:{lazyRender:!1}}),i.$on("input",(function(t){i.value=t}))}function y(t){return m["d"]?Promise.resolve():new Promise((function(e,n){i&&p(i.$el)||v(),Object(o["a"])(i,y.currentOptions,t,{resolve:e,reject:n})}))}y.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(t){i["confirm"===t?"resolve":"reject"](t)}},y.alert=y,y.confirm=function(t){return y(Object(o["a"])({showCancelButton:!0},t))},y.close=function(){i&&(i.value=!1)},y.setDefaultOptions=function(t){Object(o["a"])(y.currentOptions,t)},y.resetDefaultOptions=function(){y.currentOptions=Object(o["a"])({},y.defaultOptions)},y.resetDefaultOptions(),y.install=function(){a["a"].use(b)},y.Component=b,a["a"].prototype.$dialog=y;e["a"]=y},2381:function(t,e,n){},"2fcb":function(t,e,n){},"3acc":function(t,e,n){"use strict";var i=n("d282"),o=n("9884"),a=Object(i["a"])("checkbox-group"),r=a[0],s=a[1];e["a"]=r({mixins:[Object(o["b"])("vanCheckbox")],props:{max:Number,disabled:Boolean,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){if(!1!==t){var e=this.children;t||(e=e.filter((function(t){return!t.checked})));var n=e.map((function(t){return t.name}));this.$emit("input",n)}else this.$emit("input",[])}},render:function(){var t=arguments[0];return t("div",{class:s()},[this.slots()])}})},"3c32":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("2381")},"417e":function(t,e,n){"use strict";var i=n("d282"),o=n("ad06"),a=n("9884"),r=n("ea8e"),s=function(t){var e=t.parent,n=t.bem,i=t.role;return{mixins:[Object(a["a"])(e)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===i&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this.$refs.label,n=t.target,i=e&&(e===n||e.contains(n));this.isDisabled||i&&this.labelDisabled||this.toggle(),this.$emit("click",t)}},render:function(){var t=arguments[0],e=this.slots,a=this.checked,s=e("icon",{checked:a})||t(o["a"],{attrs:{name:"success"},style:this.iconStyle}),c=e()&&t("span",{ref:"label",class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[e()]),l=this.iconSize||this.parent&&this.parent.iconSize,u=[t("div",{class:n("icon",[this.shape,{disabled:this.isDisabled,checked:a}]),style:{fontSize:Object(r["a"])(l)}},[s])];return"left"===this.labelPosition?u.unshift(c):u.push(c),t("div",{attrs:{role:i,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n(),on:{click:this.onClick}},[u])}}},c=Object(i["a"])("checkbox"),l=c[0],u=c[1];e["a"]=l({mixins:[s({bem:u,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,n=e.value.slice();if(t){if(e.max&&n.length>=e.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),e.$emit("input",n))}else{var i=n.indexOf(this.name);-1!==i&&(n.splice(i,1),e.$emit("input",n))}}}})},"44bf":function(t,e,n){"use strict";var i=n("2638"),o=n.n(i),a=n("d282"),r=n("a142"),s=n("ea8e"),c=n("ad06"),l=Object(a["a"])("image"),u=l[0],d=l[1];e["a"]=u({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return Object(r["b"])(this.width)&&(t.width=Object(s["a"])(this.width)),Object(r["b"])(this.height)&&(t.height=Object(s["a"])(this.height)),Object(r["b"])(this.radius)&&(t.overflow="hidden",t.borderRadius=Object(s["a"])(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var e=t.el;e===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var e=t.el;e!==this.$refs.image||this.error||this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;return this.loading&&this.showLoading?t("div",{class:d("loading")},[this.slots("loading")||t(c["a"],{attrs:{name:"photo-o"},class:d("loading-icon")})]):this.error&&this.showError?t("div",{class:d("error")},[this.slots("error")||t(c["a"],{attrs:{name:"warning-o"},class:d("error-icon")})]):void 0},genImage:function(){var t=this.$createElement,e={class:d("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",o()([{ref:"image",directives:[{name:"lazy",value:this.src}]},e])):t("img",o()([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},e]))}},render:function(){var t=arguments[0];return t("div",{class:d({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder()])}})},"66b9":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("e3b3"),n("bc1b")},"66fd":function(t,e,n){"use strict";var i=n("2638"),o=n.n(i),a=n("d282"),r=n("a142"),s=n("ba31"),c=n("a3e2"),l=n("44bf"),u=Object(a["a"])("card"),d=u[0],h=u[1];function f(t,e,n,i){var a,u,d,f=e.thumb,g=n.num||Object(r["b"])(e.num),b=n.price||Object(r["b"])(e.price),m=n["origin-price"]||Object(r["b"])(e.originPrice),p=g||b||m||n.bottom;function v(t){Object(s["a"])(i,"click-thumb",t)}function y(){if(n.tag||e.tag)return t("div",{class:h("tag")},[n.tag?n.tag():t(c["a"],{attrs:{mark:!0,type:"danger"}},[e.tag])])}function O(){if(n.thumb||f)return t("a",{attrs:{href:e.thumbLink},class:h("thumb"),on:{click:v}},[n.thumb?n.thumb():t(l["a"],{attrs:{src:f,width:"100%",height:"100%",fit:"contain","lazy-load":e.lazyLoad}}),y()])}function k(){return n.title?n.title():e.title?t("div",{class:[h("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0}function S(){return n.desc?n.desc():e.desc?t("div",{class:[h("desc"),"van-ellipsis"]},[e.desc]):void 0}function x(){var n=e.price.toString().split(".");return t("div",[t("span",{class:h("price-currency")},[e.currency]),t("span",{class:h("price-integer")},[n[0]]),".",t("span",{class:h("price-decimal")},[n[1]])])}function j(){if(b)return t("div",{class:h("price")},[n.price?n.price():x()])}function C(){if(m){var i=n["origin-price"];return t("div",{class:h("origin-price")},[i?i():e.currency+" "+e.originPrice])}}function B(){if(g)return t("div",{class:h("num")},[n.num?n.num():"x"+e.num])}function w(){if(n.footer)return t("div",{class:h("footer")},[n.footer()])}return t("div",o()([{class:h()},Object(s["b"])(i,!0)]),[t("div",{class:h("header")},[O(),t("div",{class:h("content",{centered:e.centered})},[t("div",[k(),S(),null===(a=n.tags)||void 0===a?void 0:a.call(n)]),p&&t("div",{class:"van-card__bottom"},[null===(u=n["price-top"])||void 0===u?void 0:u.call(n),j(),C(),B(),null===(d=n.bottom)||void 0===d?void 0:d.call(n)])])]),w()])}f.props={tag:String,desc:String,thumb:String,title:String,centered:Boolean,lazyLoad:Boolean,thumbLink:String,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:"¥"}},e["a"]=d(f)},9884:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var i=n("2b0e");function o(t){var e=[];function n(t){t.forEach((function(t){e.push(t),t.children&&n(t.children)}))}return n(t),e}function a(t,e){var n,a;void 0===e&&(e={});var r=e.indexKey||"index";return i["a"].extend({inject:(n={},n[t]={default:null},n),computed:(a={parent:function(){return this.disableBindRelation?null:this[t]}},a[r]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},a),mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]),e=o(this.parent.slots());t.sort((function(t,n){return e.indexOf(t.$vnode)-e.indexOf(n.$vnode)})),this.parent.children=t}}}})}function r(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}},"9b7e":function(t,e,n){},"9cb7":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("09fe"),n("9b7e"),n("ea82")},a3e2:function(t,e,n){"use strict";var i=n("2638"),o=n.n(i),a=n("d282"),r=n("ba31"),s=n("b1d2"),c=n("ad06"),l=Object(a["a"])("tag"),u=l[0],d=l[1];function h(t,e,n,i){var a,l,u,h=e.type,f=e.mark,g=e.plain,b=e.color,m=e.round,p=e.size,v=g?"color":"backgroundColor",y=(a={},a[v]=b,a);e.textColor&&(y.color=e.textColor);var O={mark:f,plain:g,round:m};p&&(O[p]=p);var k=e.closeable&&t(c["a"],{attrs:{name:"cross"},class:d("close"),on:{click:function(t){t.stopPropagation(),Object(r["a"])(i,"close")}}});return t("transition",{attrs:{name:e.closeable?"van-fade":null}},[t("span",o()([{key:"content",style:y,class:[d([O,h]),(l={},l[s["d"]]=g,l)]},Object(r["b"])(i,!0)]),[null===(u=n.default)||void 0===u?void 0:u.call(n),k])])}h.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}},e["a"]=u(h)},a909:function(t,e,n){"use strict";n("68ef")},b650:function(t,e,n){"use strict";var i=n("c31d"),o=n("2638"),a=n.n(o),r=n("d282"),s=n("ba31"),c=n("b1d2"),l=n("48f4"),u=n("ad06"),d=n("543e"),h=Object(r["a"])("button"),f=h[0],g=h[1];function b(t,e,n,i){var o,r=e.tag,h=e.icon,f=e.type,b=e.color,m=e.plain,p=e.disabled,v=e.loading,y=e.hairline,O=e.loadingText,k={};function S(t){v||p||(Object(s["a"])(i,"click",t),Object(l["a"])(i))}function x(t){Object(s["a"])(i,"touchstart",t)}b&&(k.color=m?b:c["h"],m||(k.background=b),-1!==b.indexOf("gradient")?k.border=0:k.borderColor=b);var j=[g([f,e.size,{plain:m,disabled:p,hairline:y,block:e.block,round:e.round,square:e.square}]),(o={},o[c["d"]]=y,o)];function C(){var i,o=[];return v?o.push(t(d["a"],{class:g("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):h&&o.push(t(u["a"],{attrs:{name:h},class:g("icon")})),i=v?O:n.default?n.default():e.text,i&&o.push(t("span",{class:g("text")},[i])),o}return t(r,a()([{style:k,class:j,attrs:{type:e.nativeType,disabled:p},on:{click:S,touchstart:x}},Object(s["b"])(i)]),[C()])}b.props=Object(i["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=f(b)},bc1b:function(t,e,n){},d747:function(t,e,n){"use strict";n.r(e);var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"商品管理","left-text":"退出登录","left-arrow":"","right-text":"新增"},on:{"click-left":function(e){return t.loginOut()},"click-right":function(e){return t.editGoods()}}}),n("ul",t._l(t.goodslist,(function(e){return n("li",{key:e.id},[n("van-card",{attrs:{num:e.stock,tag:e.stateName,price:e.price,title:e.name,thumb:e.imageCode}},[n("div",{attrs:{slot:"footer"},slot:"footer"},[n("van-button",{attrs:{size:"mini"},on:{click:function(n){return t.changeGoodsState(e.id,e.state)}}},[t._v(t._s(e.operateName))]),n("van-button",{attrs:{size:"mini"},on:{click:function(n){return t.editGoods(e)}}},[t._v("编辑")]),n("van-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.deleteGoods(e.id)}}},[t._v("删除")])],1)])],1)})),0)],1)},a=[],r=(n("4160"),n("b0c0"),n("159b"),n("ade3")),s=(n("e17f"),n("2241")),c=(n("e7e5"),n("d399")),l=(n("5246"),n("6b41")),u=(n("66b9"),n("b650")),d=(n("a909"),n("3acc")),h=(n("3c32"),n("417e")),f=(n("9cb7"),n("66fd")),g=n("3d71"),b={components:(i={},Object(r["a"])(i,f["a"].name,f["a"]),Object(r["a"])(i,h["a"].name,h["a"]),Object(r["a"])(i,d["a"].name,d["a"]),Object(r["a"])(i,u["a"].name,u["a"]),Object(r["a"])(i,l["a"].name,l["a"]),Object(r["a"])(i,c["a"].name,c["a"]),Object(r["a"])(i,s["a"].name,s["a"]),i),data:function(){return{goodslist:[],chooseGoods:{id:"",name:"",price:"",stock:""}}},methods:{getgoodslist:function(){this.goodslist=[];var t=this.goodslist,e=this.getimage,n={Name:"",OrderParms:[],PageIndex:1,PageSize:1e3,IsUpshelf:null};g["a"].ajaxPost("/api/goodsservice/getgoodslist/query",n,(function(n){n.data.data.forEach((function(e){t.push({id:e.id,name:e.name,price:e.price,stock:e.stock,state:e.isUpshelf,stateName:1==e.isUpshelf?"上架":"下架",operateName:1==e.isUpshelf?"下架":"上架",imageId:e.imageId,imageCode:""})})),t.forEach((function(t){e(t)}))}))},changeGoodsState:function(t,e){var n=this.getgoodslist;g["a"].ajaxPost("/api/goodsservice/upordownshelf/excute",{Id:t,IsUpShelf:!e},(function(){Object(c["a"])("商品编辑成功"),n()}))},editGoods:function(t){this.$router.push({name:"managerdetail",params:{item:t}})},loginOut:function(){g["a"].loginOut(this.$router)},deleteGoods:function(t){var e=this.getgoodslist;s["a"].confirm({message:"确认删除商品吗?商品删除后不可恢复!"}).then((function(){g["a"].ajaxPost("/api/goodsservice/deletegoods/excute",{Id:t},(function(){Object(c["a"])("商品删除成功"),e()}))})).catch((function(){}))},getimage:function(t){var e=t;g["a"].GetImageById(t.imageId,(function(t){e.imageCode=t}))}},mounted:function(){this.getgoodslist()}},m=b,p=n("2877"),v=Object(p["a"])(m,o,a,!1,null,null,null);e["default"]=v.exports},e17f:function(t,e,n){"use strict";n("68ef"),n("a71a"),n("9d70"),n("3743"),n("4d75"),n("e3b3"),n("bc1b"),n("2fcb")},ea82:function(t,e,n){}}]);
//# sourceMappingURL=chunk-77e30ba1.e78a1ac6.js.map