(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04192c1e"],{"0d03":function(t,e,i){var a=i("6eeb"),n=Date.prototype,r="Invalid Date",s="toString",c=n[s],o=n.getTime;new Date(NaN)+""!=r&&a(n,s,(function(){var t=o.call(this);return t===t?c.call(this):r}))},2381:function(t,e,i){},"3acc":function(t,e,i){"use strict";var a=i("d282"),n=i("9884"),r=Object(a["a"])("checkbox-group"),s=r[0],c=r[1];e["a"]=s({mixins:[Object(n["b"])("vanCheckbox")],props:{max:Number,disabled:Boolean,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){if(!1!==t){var e=this.children;t||(e=e.filter((function(t){return!t.checked})));var i=e.map((function(t){return t.name}));this.$emit("input",i)}else this.$emit("input",[])}},render:function(){var t=arguments[0];return t("div",{class:c()},[this.slots()])}})},"3c32":function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("2381")},"3e6a":function(t,e,i){},"40db":function(t,e,i){},"417e":function(t,e,i){"use strict";var a=i("d282"),n=i("ad06"),r=i("9884"),s=i("ea8e"),c=function(t){var e=t.parent,i=t.bem,a=t.role;return{mixins:[Object(r["a"])(e)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===a&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this.$refs.label,i=t.target,a=e&&(e===i||e.contains(i));this.isDisabled||a&&this.labelDisabled||this.toggle(),this.$emit("click",t)}},render:function(){var t=arguments[0],e=this.slots,r=this.checked,c=e("icon",{checked:r})||t(n["a"],{attrs:{name:"success"},style:this.iconStyle}),o=e()&&t("span",{ref:"label",class:i("label",[this.labelPosition,{disabled:this.isDisabled}])},[e()]),l=this.iconSize||this.parent&&this.parent.iconSize,u=[t("div",{class:i("icon",[this.shape,{disabled:this.isDisabled,checked:r}]),style:{fontSize:Object(s["a"])(l)}},[c])];return"left"===this.labelPosition?u.unshift(o):u.push(o),t("div",{attrs:{role:a,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:i(),on:{click:this.onClick}},[u])}}},o=Object(a["a"])("checkbox"),l=o[0],u=o[1];e["a"]=l({mixins:[c({bem:u,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,i=e.value.slice();if(t){if(e.max&&i.length>=e.max)return;-1===i.indexOf(this.name)&&(i.push(this.name),e.$emit("input",i))}else{var a=i.indexOf(this.name);-1!==a&&(i.splice(a,1),e.$emit("input",i))}}}})},"66fd":function(t,e,i){"use strict";var a=i("2638"),n=i.n(a),r=i("d282"),s=i("a142"),c=i("ba31"),o=i("a3e2"),l=i("44bf"),u=Object(r["a"])("card"),d=u[0],m=u[1];function h(t,e,i,a){var r,u,d,h=e.thumb,f=i.num||Object(s["b"])(e.num),b=i.price||Object(s["b"])(e.price),p=i["origin-price"]||Object(s["b"])(e.originPrice),v=f||b||p||i.bottom;function g(t){Object(c["a"])(a,"click-thumb",t)}function O(){if(i.tag||e.tag)return t("div",{class:m("tag")},[i.tag?i.tag():t(o["a"],{attrs:{mark:!0,type:"danger"}},[e.tag])])}function k(){if(i.thumb||h)return t("a",{attrs:{href:e.thumbLink},class:m("thumb"),on:{click:g}},[i.thumb?i.thumb():t(l["a"],{attrs:{src:h,width:"100%",height:"100%",fit:"contain","lazy-load":e.lazyLoad}}),O()])}function S(){return i.title?i.title():e.title?t("div",{class:[m("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0}function y(){return i.desc?i.desc():e.desc?t("div",{class:[m("desc"),"van-ellipsis"]},[e.desc]):void 0}function j(){var i=e.price.toString().split(".");return t("div",[t("span",{class:m("price-currency")},[e.currency]),t("span",{class:m("price-integer")},[i[0]]),".",t("span",{class:m("price-decimal")},[i[1]])])}function x(){if(b)return t("div",{class:m("price")},[i.price?i.price():j()])}function _(){if(p){var a=i["origin-price"];return t("div",{class:m("origin-price")},[a?a():e.currency+" "+e.originPrice])}}function T(){if(f)return t("div",{class:m("num")},[i.num?i.num():"x"+e.num])}function D(){if(i.footer)return t("div",{class:m("footer")},[i.footer()])}return t("div",n()([{class:m()},Object(c["b"])(a,!0)]),[t("div",{class:m("header")},[k(),t("div",{class:m("content",{centered:e.centered})},[t("div",[S(),y(),null===(r=i.tags)||void 0===r?void 0:r.call(i)]),v&&t("div",{class:"van-card__bottom"},[null===(u=i["price-top"])||void 0===u?void 0:u.call(i),x(),_(),T(),null===(d=i.bottom)||void 0===d?void 0:d.call(i)])])]),D()])}h.props={tag:String,desc:String,thumb:String,title:String,centered:Boolean,lazyLoad:Boolean,thumbLink:String,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:"¥"}},e["a"]=d(h)},7034:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{attrs:{title:"我的订单","left-arrow":""},on:{"click-left":function(e){return t.back()}}}),i("van-tabs",{attrs:{animated:""},on:{change:t.getorder},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"全部"}},[i("orderlistTmp",{attrs:{orderlist:t.orderlist}})],1),i("van-tab",{attrs:{title:"待付款"}},[i("orderlistTmp",{attrs:{orderlist:t.orderlist}})],1),i("van-tab",{attrs:{title:"已完成"}},[i("orderlistTmp",{attrs:{orderlist:t.orderlist}})],1),i("van-tab",{attrs:{title:"已关闭"}},[i("orderlistTmp",{attrs:{orderlist:t.orderlist}})],1)],1)],1)},n=[],r=(i("4160"),i("b0c0"),i("159b"),i("ade3")),s=(i("3647"),i("ea47")),c=(i("da3c"),i("0b33")),o=(i("bda7"),i("5e46")),l=(i("e17f"),i("2241")),u=(i("e7e5"),i("d399")),d=(i("5246"),i("6b41")),m=(i("66b9"),i("b650")),h=(i("a909"),i("3acc")),f=(i("3c32"),i("417e")),b=(i("9cb7"),i("66fd")),p=i("3d71"),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",t._l(t.orderlist,(function(e){return i("li",{key:e.id},[i("van-panel",[i("div",{attrs:{slot:"header"},slot:"header"},[i("van-cell",{attrs:{value:1==e.state?"未支付":2==e.state?"已完成":3==e.state?"已关闭":"",label:e.orderNo}},[i("template",{slot:"title"},[i("span",{staticClass:"custom-title",staticStyle:{color:"#666","font-size":"12px"}},[t._v(t._s(e.time))])])],2)],1),i("div",{attrs:{slot:"default"},slot:"default"},t._l(e.orderItems,(function(e){return i("ul",{key:e.id,staticStyle:{"font-size":"11px"}},[i("li",[i("van-cell",[i("template",{slot:"icon"},[i("van-image",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{width:"60",height:"60",src:e.imageCode}})],1),i("template",{slot:"title"},[i("span",{staticClass:"custom-title"},[t._v(t._s(e.name))])]),i("template",{slot:"label"},[i("span",{staticClass:"custom-title"},[t._v("× "+t._s(e.count))])]),i("template",{slot:"default"},[i("span",{staticClass:"custom-title"},[t._v("￥"+t._s(e.totalPrice))])])],2)],1)])})),0),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("div",{staticStyle:{float:"right","margin-bottom":"5px"}},[i("span",{staticStyle:{color:"#666","font-size":"10px"}},[t._v("共"+t._s(e.orderItems.length)+"件商品 实付金额：")]),i("span",{staticStyle:{color:"#999","font-size":"16px"}},[t._v("￥"+t._s(e.totalPrice))])]),i("div",{staticStyle:{clear:"both"}}),i("div",{staticStyle:{float:"left"}},[0!=t.gettime(e.createTime)&&1==e.state?i("van-count-down",{attrs:{time:t.gettime(e.createTime)},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"item"},[t._v(t._s(e.minutes))]),i("span",{staticClass:"item"},[t._v(t._s(e.seconds))])]}}],null,!0)}):t._e()],1),1==e.state?i("div",{staticStyle:{float:"right"}},[i("van-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){return t.goorderdetail(e)}}},[t._v("支付订单")])],1):t._e(),1!=e.state?i("div",{staticStyle:{float:"right"}},[i("van-button",{attrs:{size:"small",type:"info"},on:{click:function(i){return t.goorderdetail(e)}}},[t._v("查看订单")])],1):t._e(),i("div",{staticStyle:{clear:"both"}})])])],1)})),0)},g=[],O=(i("0d03"),i("68ef"),i("40db"),i("d282")),k=i("4598"),S=i("68ed"),y=1e3,j=60*y,x=60*j,_=24*x;function T(t){var e=Math.floor(t/_),i=Math.floor(t%_/x),a=Math.floor(t%x/j),n=Math.floor(t%j/y),r=Math.floor(t%y);return{days:e,hours:i,minutes:a,seconds:n,milliseconds:r}}function D(t,e){var i=e.days,a=e.hours,n=e.minutes,r=e.seconds,s=e.milliseconds;if(-1===t.indexOf("DD")?a+=24*i:t=t.replace("DD",Object(S["b"])(i)),-1===t.indexOf("HH")?n+=60*a:t=t.replace("HH",Object(S["b"])(a)),-1===t.indexOf("mm")?r+=60*n:t=t.replace("mm",Object(S["b"])(n)),-1===t.indexOf("ss")?s+=1e3*r:t=t.replace("ss",Object(S["b"])(r)),-1!==t.indexOf("S")){var c=Object(S["b"])(s,3);t=-1!==t.indexOf("SSS")?t.replace("SSS",c):-1!==t.indexOf("SS")?t.replace("SS",c.slice(0,2)):t.replace("S",c.charAt(0))}return t}function w(t,e){return Math.floor(t/1e3)===Math.floor(e/1e3)}var C,P,I=Object(O["a"])("count-down"),$=I[0],z=I[1],N=$({props:{millisecond:Boolean,time:{type:Number,default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},data:function(){return{remain:0}},computed:{timeData:function(){return T(this.remain)},formattedTime:function(){return D(this.format,this.timeData)}},watch:{time:{immediate:!0,handler:"reset"}},activated:function(){this.keepAlivePaused&&(this.counting=!0,this.keepAlivePaused=!1,this.tick())},deactivated:function(){this.counting&&(this.pause(),this.keepAlivePaused=!0)},beforeDestroy:function(){this.pause()},methods:{start:function(){this.counting||(this.counting=!0,this.endTime=Date.now()+this.remain,this.tick())},pause:function(){this.counting=!1,Object(k["a"])(this.rafId)},reset:function(){this.pause(),this.remain=this.time,this.autoStart&&this.start()},tick:function(){this.millisecond?this.microTick():this.macroTick()},microTick:function(){var t=this;this.rafId=Object(k["c"])((function(){t.counting&&(t.setRemain(t.getRemain()),t.remain>0&&t.microTick())}))},macroTick:function(){var t=this;this.rafId=Object(k["c"])((function(){if(t.counting){var e=t.getRemain();w(e,t.remain)&&0!==e||t.setRemain(e),t.remain>0&&t.macroTick()}}))},getRemain:function(){return Math.max(this.endTime-Date.now(),0)},setRemain:function(t){this.remain=t,0===t&&(this.pause(),this.$emit("finish"))}},render:function(){var t=arguments[0];return t("div",{class:z()},[this.slots("default",this.timeData)||this.formattedTime])}}),B=(i("c3a6"),i("ad06")),M=(i("c194"),i("7744")),A=(i("4056"),i("44bf")),E=(i("5f1a"),i("a3e2")),R={components:(C={},Object(r["a"])(C,m["a"].name,m["a"]),Object(r["a"])(C,u["a"].name,u["a"]),Object(r["a"])(C,l["a"].name,l["a"]),Object(r["a"])(C,o["a"].name,o["a"]),Object(r["a"])(C,c["a"].name,c["a"]),Object(r["a"])(C,s["a"].name,s["a"]),Object(r["a"])(C,E["a"].name,E["a"]),Object(r["a"])(C,A["a"].name,A["a"]),Object(r["a"])(C,M["a"].name,M["a"]),Object(r["a"])(C,B["a"].name,B["a"]),Object(r["a"])(C,N.name,N),C),props:{orderlist:{}},methods:{gettime:function(t){var e=new Date,i=new Date(t),a=i.setMinutes(i.getMinutes()+30);return e.getTime()>a?0:a-e.getTime()},goorderdetail:function(t){this.$router.push({name:"orderdetail",params:{item:t}})}},mounted:function(){this.orderlist.forEach((function(t){window.console.log(t.imageCode.length)}))}},H=R,L=(i("fed3"),i("2877")),G=Object(L["a"])(H,v,g,!1,null,null,null),J=G.exports,V={components:(P={},Object(r["a"])(P,b["a"].name,b["a"]),Object(r["a"])(P,f["a"].name,f["a"]),Object(r["a"])(P,h["a"].name,h["a"]),Object(r["a"])(P,m["a"].name,m["a"]),Object(r["a"])(P,d["a"].name,d["a"]),Object(r["a"])(P,u["a"].name,u["a"]),Object(r["a"])(P,l["a"].name,l["a"]),Object(r["a"])(P,o["a"].name,o["a"]),Object(r["a"])(P,c["a"].name,c["a"]),Object(r["a"])(P,s["a"].name,s["a"]),Object(r["a"])(P,"orderlistTmp",J),P),data:function(){return{active:0,orderlist:[]}},methods:{back:function(){this.$router.push("/user")},getorder:function(){this.orderlist=[];var t=this.orderlist;p["a"].ajaxPost("/api/orderservice/getorderlistbyuser/query",{OrderType:this.active,OrderParms:[{OrderName:"State",IsAsc:!0},{OrderName:"CreateTime",IsAsc:!1}]},(function(e){e.data.forEach((function(e){var i={createTime:e.createTime,id:e.id,orderItems:[],orderLogs:e.orderLogs,orderNo:e.orderNo,state:e.state,time:e.time,totalPrice:e.totalPrice};e.orderItems.forEach((function(t){var e={count:t.count,imageCode:"",imageId:t.imageId,name:t.name,singlePrice:t.singlePrice,totalPrice:t.totalPrice};i.orderItems.push(e)})),t.push(i)})),t.forEach((function(t){return t.orderItems.forEach((function(t){p["a"].GetImageById(t.imageId,(function(e){t.imageCode=e}))}))}))}))}},mounted:function(){null!=this.$route.params.type&&void 0!=this.$route.params.type&&(this.active=this.$route.params.type),this.getorder()}},q=V,F=Object(L["a"])(q,a,n,!1,null,null,null);e["default"]=F.exports},"9cb7":function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743"),i("09fe"),i("9b7e"),i("ea82")},a909:function(t,e,i){"use strict";i("68ef")},c3a6:function(t,e,i){"use strict";i("68ef"),i("9d70"),i("3743")},ea82:function(t,e,i){},fed3:function(t,e,i){"use strict";var a=i("3e6a"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-04192c1e.aae38072.js.map