{"remainingRequest":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\src\\view\\common.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\src\\view\\common.vue","mtime":1582083148385},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJ2YW50L2VzL25vdGlmeS9zdHlsZSI7CmltcG9ydCBfTm90aWZ5IGZyb20gInZhbnQvZXMvbm90aWZ5IjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCmZ1bmN0aW9uIGFqYXhQb3N0KHVybCwgZGF0YSwgY2FsbGJhY2spIHsKICB2YXIgaG9zdHVybCA9ICJodHRwOi8vYXBpLm94eWdlbi1lc2hvcHNhbXBsZS5jb20iOwogIGF4aW9zLnBvc3QoaG9zdHVybCArIHVybCwgZGF0YSwgewogICAgaGVhZGVyczogewogICAgICBUb2tlbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSwKICAgICAgY2FuYXJ5dmVyOiBwcm9jZXNzLmVudi5WVUVfQVBQX0NBTkFSWVZFUgogICAgfQogIH0pLnRoZW4oZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgIHZhciByZXN1bHQgPSBtZXNzYWdlLmRhdGE7CgogICAgaWYgKHJlc3VsdC5jb2RlID09IDApIHsKICAgICAgY2FsbGJhY2socmVzdWx0KTsKICAgIH0gZWxzZSB7CiAgICAgIF9Ob3RpZnkoewogICAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnJNZXNzYWdlCiAgICAgIH0pOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgX05vdGlmeSh7CiAgICAgIHR5cGU6ICJkYW5nZXIiLAogICAgICBtZXNzYWdlOiAi57O757uf5byC5bi4LOivt+eojeWQjuWGjeivlSEiCiAgICB9KTsKCiAgICB3aW5kb3cuY29uc29sZS5sb2coZXJyb3IpOwogIH0pOwp9CgpmdW5jdGlvbiBsb2dpbk91dChyb3V0ZXIpIHsKICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CgogIF9Ub2FzdCh7CiAgICBtZXNzYWdlOiAi6YCA5Ye655m75b2V5oiQ5YqfIiwKICAgIGR1cmF0aW9uOiAxMDAwLAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogIH0pOwp9CgpmdW5jdGlvbiBiYWNrKCkgewogIGhpc3RvcnkuYmFjaygtMSk7Cn0KCmZ1bmN0aW9uIEdldFVzZXJJbmZvKGNhbGxiYWNrKSB7CiAgdmFyIHVzZXJzdHIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpOwoKICBpZiAodXNlcnN0ciA9PSBudWxsIHx8IHVzZXJzdHIgPT0gdW5kZWZpbmVkKSB7CiAgICBjYWxsYmFjayh7fSk7CiAgfSBlbHNlIHsKICAgIHZhciB1c2VyID0gSlNPTi5wYXJzZSh1c2Vyc3RyKTsKICAgIGFqYXhQb3N0KCIvYXBpL3RyYWRlc2VydmljZS9nZXRteWFjY291bnRiYWxhbmNlL3F1ZXJ5Iiwge30sIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgdXNlci5CYWxhbmNlID0gcmVzdWx0LmRhdGEuYmFsYW5jZTsKICAgICAgdXNlci5CYWxhbmNlUmVjb3JkID0gcmVzdWx0LmRhdGEucmVjb3JkczsKICAgICAgY2FsbGJhY2sodXNlcik7CiAgICB9KTsKICB9Cn0KCmZ1bmN0aW9uIEdldFNob3BDYXJ0KCkgewogIHZhciBjYXJ0bGlzdCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImNhcnQiKTsKCiAgaWYgKGNhcnRsaXN0ID09IG51bGwgfHwgY2FydGxpc3QgPT0gdW5kZWZpbmVkIHx8IGNhcnRsaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICByZXR1cm4gW107CiAgfSBlbHNlIHsKICAgIHJldHVybiBKU09OLnBhcnNlKGNhcnRsaXN0KTsKICB9Cn0KCmZ1bmN0aW9uIENsZWFyU2hvcENhcnQobGlzdCkgewogIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImNhcnQiLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7Cn0KCmZ1bmN0aW9uIFJlc2V0U2hvcENhcnQobGlzdCkgewogIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImNhcnQiLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7Cn0KCmZ1bmN0aW9uIEFkZFNob3BDYXJ0KGl0ZW0pIHsKICB2YXIgY2FydGxpc3QgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJjYXJ0Iik7CgogIGlmIChjYXJ0bGlzdCA9PSBudWxsIHx8IGNhcnRsaXN0ID09IHVuZGVmaW5lZCkgewogICAgY2FydGxpc3QgPSBbXTsKICB9IGVsc2UgewogICAgY2FydGxpc3QgPSBKU09OLnBhcnNlKGNhcnRsaXN0KTsKICB9CgogIHZhciBhZGQgPSB0cnVlOwogIGNhcnRsaXN0LmZvckVhY2goZnVuY3Rpb24gKHgpIHsKICAgIGlmICh4LmlkID09IGl0ZW0uaWQpIHsKICAgICAgYWRkID0gZmFsc2U7CiAgICAgIHguY291bnQgKz0gMTsKICAgICAgaWYgKHguY2hvb3NlKSB4LmNob29zZSA9IHRydWU7ZWxzZSB4LmNob29zZSA9IGl0ZW0uY2hvb3NlOwogICAgfQogIH0pOwogIGlmIChhZGQpIGNhcnRsaXN0LnB1c2goaXRlbSk7CiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiY2FydCIsIEpTT04uc3RyaW5naWZ5KGNhcnRsaXN0KSk7Cn0KCmZ1bmN0aW9uIEdldEltYWdlQnlJZChpZCwgY2FsbGJhY2spIHsKICBhamF4UG9zdCgiL2FwaS9Hb29kc1NlcnZpY2UvR2V0R29vZHNJbWFnZS9RdWVyeSIsIHsKICAgIElkOiBpZAogIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgIGNhbGxiYWNrKHJlc3VsdC5kYXRhKTsKICB9KTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGFqYXhQb3N0OiBhamF4UG9zdCwKICBiYWNrOiBiYWNrLAogIEdldFVzZXJJbmZvOiBHZXRVc2VySW5mbywKICBsb2dpbk91dDogbG9naW5PdXQsCiAgQWRkU2hvcENhcnQ6IEFkZFNob3BDYXJ0LAogIEdldFNob3BDYXJ0OiBHZXRTaG9wQ2FydCwKICBDbGVhclNob3BDYXJ0OiBDbGVhclNob3BDYXJ0LAogIFJlc2V0U2hvcENhcnQ6IFJlc2V0U2hvcENhcnQsCiAgR2V0SW1hZ2VCeUlkOiBHZXRJbWFnZUJ5SWQsCiAgbWV0aG9kczogewogICAgZ2V0ZGZSb3V0ZXI6IGZ1bmN0aW9uIGdldGRmUm91dGVyKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGVyOwogICAgfQogIH0KfTs="},{"version":3,"sources":["common.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\n  import axios from \"axios\";\r\n  import { Notify, Toast } from \"vant\";\r\n  function ajaxPost(url, data, callback) {\r\n    var hosturl = \"http://api.oxygen-eshopsample.com\";\r\n    axios\r\n      .post(hosturl + url, data, {\r\n        headers: {\r\n          Token: sessionStorage.getItem(\"token\"),\r\n          canaryver: process.env.VUE_APP_CANARYVER\r\n        }\r\n      })\r\n      .then(function (message) {\r\n        var result = message.data;\r\n        if (result.code == 0) {\r\n          callback(result);\r\n        } else {\r\n          Notify({\r\n            type: \"danger\", duration: 2000, message: result.errMessage\r\n          });\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        Notify({ type: \"danger\", message: \"系统异常,请稍后再试!\" });\r\n        window.console.log(error);\r\n      });\r\n  }\r\n  function loginOut(router) {\r\n    sessionStorage.removeItem(\"token\");\r\n    sessionStorage.removeItem(\"userInfo\");\r\n    Toast({\r\n      message: \"退出登录成功\",\r\n      duration: 1000,\r\n      onClose: function () {\r\n        router.push(\"/login\");\r\n      }\r\n    });\r\n  }\r\n  function back() {\r\n    history.back(-1);\r\n  }\r\n  function GetUserInfo(callback) {\r\n    var userstr = sessionStorage.getItem(\"userInfo\");\r\n    if (userstr == null || userstr == undefined) {\r\n      callback({});\r\n    }\r\n    else {\r\n      var user = JSON.parse(userstr);\r\n      ajaxPost(\r\n        \"/api/tradeservice/getmyaccountbalance/query\",\r\n        {},\r\n        function (result) {\r\n          user.Balance = result.data.balance;\r\n          user.BalanceRecord = result.data.records;\r\n          callback(user);\r\n        }\r\n      );\r\n    }\r\n  }\r\n  function GetShopCart() {\r\n    var cartlist = sessionStorage.getItem(\"cart\");\r\n    if (cartlist == null || cartlist == undefined || cartlist.length == 0) {\r\n      return [];\r\n    }\r\n    else {\r\n      return JSON.parse(cartlist);\r\n    }\r\n  }\r\n  function ClearShopCart(list) {\r\n    sessionStorage.setItem(\"cart\", JSON.stringify(list));\r\n  }\r\n  function ResetShopCart(list) {\r\n    sessionStorage.setItem(\"cart\", JSON.stringify(list));\r\n  }\r\n  function AddShopCart(item) {\r\n    var cartlist = sessionStorage.getItem(\"cart\");\r\n    if (cartlist == null || cartlist == undefined) {\r\n      cartlist = [];\r\n    }\r\n    else {\r\n      cartlist = JSON.parse(cartlist);\r\n    }\r\n    var add = true;\r\n    cartlist.forEach(x => {\r\n      if (x.id == item.id) {\r\n        add = false;\r\n        x.count += 1;\r\n        if (x.choose)\r\n          x.choose = true;\r\n        else\r\n          x.choose = item.choose;\r\n      }\r\n    });\r\n    if (add)\r\n      cartlist.push(item);\r\n    sessionStorage.setItem(\r\n      \"cart\",\r\n      JSON.stringify(cartlist)\r\n    );\r\n  }\r\n  function GetImageById(id, callback) {\r\n    ajaxPost(\"/api/GoodsService/GetGoodsImage/Query\",\r\n      { Id: id },\r\n      function (result) {\r\n        callback(result.data);\r\n      }\r\n    );\r\n  }\r\n  export default {\r\n    ajaxPost,\r\n    back,\r\n    GetUserInfo,\r\n    loginOut,\r\n    AddShopCart,\r\n    GetShopCart,\r\n    ClearShopCart,\r\n    ResetShopCart,\r\n    GetImageById,\r\n    methods: {\r\n      getdfRouter() {\r\n        return this.$router;\r\n      }\r\n    }\r\n  };\r\n</script>"],"sourceRoot":"src/view"}]}