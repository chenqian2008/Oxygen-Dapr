{"remainingRequest":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\src\\view\\user\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\src\\view\\user\\login.vue","mtime":1578036152532},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgUm93LAogIENvbCwKICBJY29uLAogIENlbGwsCiAgQ2VsbEdyb3VwLAogIEJ1dHRvbiwKICBGaWVsZCwKICBUb2FzdCwKICBOYXZCYXIKfSBmcm9tICJ2YW50IjsKaW1wb3J0IGdsb2JhbCBmcm9tICIuLi9jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgW1Jvdy5uYW1lXTogUm93LAogICAgW0NvbC5uYW1lXTogQ29sLAogICAgW0ljb24ubmFtZV06IEljb24sCiAgICBbQ2VsbC5uYW1lXTogQ2VsbCwKICAgIFtDZWxsR3JvdXAubmFtZV06IENlbGxHcm91cCwKICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwKICAgIFtGaWVsZC5uYW1lXTogRmllbGQsCiAgICBbVG9hc3QubmFtZV06IFRvYXN0LAogICAgW05hdkJhci5uYW1lXTogTmF2QmFyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBsb2dpbm1hbmFnZXI6IGZhbHNlLAogICAgICBsb2dpbmluZm86IHsKICAgICAgICBBY2NvdW50OiAiYWRtaW4xIiwKICAgICAgICBQYXNzd29yZDogInN0cmluZyIsCiAgICAgICAgQmFsYW5jZTogIjAuMDAiLAogICAgICAgIEJhbGFuY2VSZWNvcmQ6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbih0eXBlKSB7CiAgICAgIHZhciByb3V0ZXIgPSB0aGlzLiRyb3V0ZXI7CiAgICAgIHZhciBsb2dpbmluZm8gPSB0aGlzLmxvZ2luaW5mbzsKICAgICAgZ2xvYmFsLmFqYXhQb3N0KAogICAgICAgICIvYXBpL3VzZXJzZXJ2aWNlL3VzZXJsb2dpbi9leGN1dGUiLAogICAgICAgIHRoaXMubG9naW5pbmZvLAogICAgICAgIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzdWx0LmRhdGEpOwogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgKICAgICAgICAgICAgInVzZXJJbmZvIiwKICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgIEFjY291bnQ6IGxvZ2luaW5mby5BY2NvdW50LAogICAgICAgICAgICAgIEJhbGFuY2U6IDAKICAgICAgICAgICAgfSkKICAgICAgICAgICk7CiAgICAgICAgICBpZiAodHlwZSA9PSAxKSByb3V0ZXIucHVzaCgiL3VzZXIiKTsKICAgICAgICAgIGVsc2Ugcm91dGVyLnB1c2goIi9tYW5hZ2VyIik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGxvZ2luY2hhbmdlKCkgewogICAgICB0aGlzLmxvZ2lubWFuYWdlciA9ICF0aGlzLmxvZ2lubWFuYWdlcjsKICAgIH0sCiAgICBjcmVhdGV1c2VyKCkgewogICAgICBnbG9iYWwuYWpheFBvc3QoCiAgICAgICAgIi9hcGkvdXNlcnNlcnZpY2UvdXNlcmFjY291bnRjcmVhdGUvZXhjdXRlIiwKICAgICAgICB0aGlzLmxvZ2luaW5mbywKICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBUb2FzdCgi55So5oi35Yib5bu65oiQ5YqfLOivt+eZu+W9lSIpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBnb2luZGV4KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2luZGV4Jyk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kUGFnZVRpdGxlID0gIueZu+W9lSI7CiAgICB0aGlzLmxvZ2lubWFuYWdlciA9IGZhbHNlOwogIH0KfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/view/user","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar left-arrow @click-left=\"goindex()\" :title=\"loginmanager==true?'管理端登录':'用户登录'\"\r\n      :right-text=\"loginmanager==false?'切换到管理端':'切换到用户端'\" @click-right=\"loginchange()\" />\r\n    <div style=\"margin-top: 40%;\"></div>\r\n    <van-cell-group justify=\"center\" align=\"center\">\r\n      <van-field v-model=\"logininfo.Account\" required clearable label=\"用户名\" placeholder=\"请输入用户名\" />\r\n      <van-field v-model=\"logininfo.Password\" type=\"password\" label=\"密码\" placeholder=\"请输入密码\" required />\r\n    </van-cell-group>\r\n    <div style=\"margin-top: 10%;\"></div>\r\n    <van-cell-group v-if=\"!loginmanager\">\r\n      <van-cell>\r\n        <van-button type=\"primary\" block @click=\"login('1')\">登录</van-button>\r\n      </van-cell>\r\n    </van-cell-group>\r\n    <van-cell-group v-if=\"loginmanager\">\r\n      <van-cell>\r\n        <van-button type=\"primary\" block @click=\"login('2')\">登录管理端</van-button>\r\n      </van-cell>\r\n    </van-cell-group>\r\n    <van-cell-group v-if=\"!loginmanager\">\r\n      <van-cell>\r\n        <van-button type=\"info\" block @click=\"createuser\">注册</van-button>\r\n      </van-cell>\r\n    </van-cell-group>\r\n  </div>\r\n</template>\r\n<script>\r\n  import {\r\n    Row,\r\n    Col,\r\n    Icon,\r\n    Cell,\r\n    CellGroup,\r\n    Button,\r\n    Field,\r\n    Toast,\r\n    NavBar\r\n  } from \"vant\";\r\n  import global from \"../common\";\r\n  export default {\r\n    components: {\r\n      [Row.name]: Row,\r\n      [Col.name]: Col,\r\n      [Icon.name]: Icon,\r\n      [Cell.name]: Cell,\r\n      [CellGroup.name]: CellGroup,\r\n      [Button.name]: Button,\r\n      [Field.name]: Field,\r\n      [Toast.name]: Toast,\r\n      [NavBar.name]: NavBar\r\n    },\r\n    data: function () {\r\n      return {\r\n        loginmanager: false,\r\n        logininfo: {\r\n          Account: \"admin1\",\r\n          Password: \"string\",\r\n          Balance: \"0.00\",\r\n          BalanceRecord: []\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      login(type) {\r\n        var router = this.$router;\r\n        var logininfo = this.logininfo;\r\n        global.ajaxPost(\r\n          \"/api/userservice/userlogin/excute\",\r\n          this.logininfo,\r\n          function (result) {\r\n            sessionStorage.setItem(\"token\", result.data);\r\n            sessionStorage.setItem(\r\n              \"userInfo\",\r\n              JSON.stringify({\r\n                Account: logininfo.Account,\r\n                Balance: 0\r\n              })\r\n            );\r\n            if (type == 1) router.push(\"/user\");\r\n            else router.push(\"/manager\");\r\n          }\r\n        );\r\n      },\r\n      loginchange() {\r\n        this.loginmanager = !this.loginmanager;\r\n      },\r\n      createuser() {\r\n        global.ajaxPost(\r\n          \"/api/userservice/useraccountcreate/excute\",\r\n          this.logininfo,\r\n          function () {\r\n            Toast(\"用户创建成功,请登录\");\r\n          }\r\n        );\r\n      },\r\n      goindex() {\r\n        this.$router.push('/index');\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$PageTitle = \"登录\";\r\n      this.loginmanager = false;\r\n    }\r\n  };\r\n</script>"]}]}