{"remainingRequest":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\src\\view\\user\\order\\orderdetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\src\\view\\user\\order\\orderdetail.vue","mtime":1578141730120},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\dotnet_project\\Oxygen-EshopSample\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBnbG9iYWwgZnJvbSAiLi4vLi4vY29tbW9uIjsKaW1wb3J0IHsKICAgIEJ1dHRvbiwKICAgIFRvYXN0LAogICAgRGlhbG9nLAogICAgVGFiLAogICAgVGFicywKICAgIFBhbmVsLAogICAgVGFnLAogICAgSW1hZ2UsCiAgICBDZWxsLAogICAgTmF2QmFyLAogICAgQ29sbGFwc2UsCiAgICBDb2xsYXBzZUl0ZW0sCiAgICBTdGVwLCBTdGVwcywKICAgIFRhYmJhciwKICAgIFRhYmJhckl0ZW0sCn0gZnJvbSAidmFudCI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBbQnV0dG9uLm5hbWVdOiBCdXR0b24sCiAgICAgICAgW1RvYXN0Lm5hbWVdOiBUb2FzdCwKICAgICAgICBbRGlhbG9nLm5hbWVdOiBEaWFsb2csCiAgICAgICAgW1RhYnMubmFtZV06IFRhYnMsCiAgICAgICAgW1RhYi5uYW1lXTogVGFiLAogICAgICAgIFtQYW5lbC5uYW1lXTogUGFuZWwsCiAgICAgICAgW1RhZy5uYW1lXTogVGFnLAogICAgICAgIFtJbWFnZS5uYW1lXTogSW1hZ2UsCiAgICAgICAgW0NlbGwubmFtZV06IENlbGwsCiAgICAgICAgW05hdkJhci5uYW1lXTogTmF2QmFyLAogICAgICAgIFtDb2xsYXBzZS5uYW1lXTogQ29sbGFwc2UsCiAgICAgICAgW0NvbGxhcHNlSXRlbS5uYW1lXTogQ29sbGFwc2VJdGVtLAogICAgICAgIFtTdGVwLm5hbWVdOiBTdGVwLAogICAgICAgIFtTdGVwcy5uYW1lXTogU3RlcHMsCiAgICAgICAgW1RhYmJhci5uYW1lXTogVGFiYmFyLAogICAgICAgIFtUYWJiYXJJdGVtLm5hbWVdOiBUYWJiYXJJdGVtLAogICAgfSwKICAgIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBhY3RpdmU6IDAsCiAgICAgICAgICAgIGFjdGl2ZU5hbWU6IFsnMSddLAogICAgICAgICAgICBpdGVtOiB7CiAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiAiIiwKICAgICAgICAgICAgICAgIGlkOiAiIiwKICAgICAgICAgICAgICAgIG9yZGVySXRlbXM6IFtdLAogICAgICAgICAgICAgICAgb3JkZXJMb2dzOiBbXSwKICAgICAgICAgICAgICAgIG9yZGVyTm86ICIiLAogICAgICAgICAgICAgICAgc3RhdGU6IDAsCiAgICAgICAgICAgICAgICB0aW1lOiAiIiwKICAgICAgICAgICAgICAgIHRvdGFsUHJpY2U6ICIiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGJhY2soKSB7CiAgICAgICAgICAgIGhpc3RvcnkuYmFjaygtMSk7CiAgICAgICAgfSwKICAgICAgICBvcmRlcnBheSgpIHsKICAgICAgICAgICAgdmFyIHJvdXRlciA9IHRoaXMuJHJvdXRlcjsKICAgICAgICAgICAgZ2xvYmFsLmFqYXhQb3N0KCIvYXBpL29yZGVyc2VydmljZS9vcmRlcnBheS9leGN1dGUiLCB7IE9yZGVySWQ6IHRoaXMuaXRlbS5pZCB9LCBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIFRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuiuouWNleaUr+S7mOaIkOWKnyIsIGR1cmF0aW9uOiAxNTAwLCBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7IG5hbWU6ICJvcmRlcmxpc3QiLCBwYXJhbXM6IHsgdHlwZTogMiB9IH0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLml0ZW0uY3JlYXRlVGltZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtLmNyZWF0ZVRpbWU7CiAgICAgICAgICAgIHRoaXMuaXRlbS5pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtLmlkOwogICAgICAgICAgICB0aGlzLml0ZW0ub3JkZXJJdGVtcyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtLm9yZGVySXRlbXM7CiAgICAgICAgICAgIHRoaXMuaXRlbS5vcmRlckxvZ3MgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaXRlbS5vcmRlckxvZ3M7CiAgICAgICAgICAgIHRoaXMuaXRlbS5vcmRlck5vID0gdGhpcy4kcm91dGUucGFyYW1zLml0ZW0ub3JkZXJObzsKICAgICAgICAgICAgdGhpcy5pdGVtLnN0YXRlID0gdGhpcy4kcm91dGUucGFyYW1zLml0ZW0uc3RhdGU7CiAgICAgICAgICAgIHRoaXMuaXRlbS50aW1lID0gdGhpcy4kcm91dGUucGFyYW1zLml0ZW0udGltZTsKICAgICAgICAgICAgdGhpcy5pdGVtLnRvdGFsUHJpY2UgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaXRlbS50b3RhbFByaWNlOwogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["orderdetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderdetail.vue","sourceRoot":"src/view/user/order","sourcesContent":["<template>\r\n    <div>\r\n        <van-nav-bar title=\"订单详情\" left-arrow @click-left=\"back()\" />\r\n        <van-cell :value=\"item.state==1?'未支付':item.state==2 ? '已完成':item.state==3 ?'已关闭':''\" :label=\"item.orderNo\">\r\n            <template slot=\"title\">\r\n                <span class=\"custom-title\" style=\"color:#666;font-size:12px;\">{{item.time}}</span>\r\n            </template>\r\n        </van-cell>\r\n        <van-collapse v-model=\"activeName\">\r\n            <van-collapse-item title=\"订单明细\" name=\"1\">\r\n                <ul v-for=\"goods in item.orderItems\" :key=\"goods.id\" style=\"font-size:11px;\">\r\n                    <li>\r\n                        <van-cell>\r\n                            <template slot=\"icon\">\r\n                                <van-image style=\"margin-left:10px;margin-right:10px\" width=\"60\" height=\"60\"\r\n                                    :src=\"goods.imageCode\" />\r\n                            </template>\r\n                            <template slot=\"title\">\r\n                                <span class=\"custom-title\">{{goods.name}}</span>\r\n                            </template>\r\n                            <template slot=\"label\">\r\n                                <span class=\"custom-title\">× {{goods.count}}</span>\r\n                            </template>\r\n                            <template slot=\"default\">\r\n                                <span class=\"custom-title\">￥{{goods.totalPrice}}</span>\r\n                            </template>\r\n                        </van-cell>\r\n                    </li>\r\n                </ul>\r\n                <div style=\"float: right;margin-bottom: 5px;\">\r\n                    <span style=\"color:#666;font-size:10px\">共{{item.orderItems.length}}件商品\r\n                        实付金额：</span><span style=\"color:#999;font-size:16px\">￥{{item.totalPrice}}</span>\r\n                </div>\r\n                <div style=\"clear:both\"></div>\r\n            </van-collapse-item>\r\n            <van-collapse-item title=\"订单日志\" name=\"2\">\r\n                <van-steps direction=\"vertical\" :active=\"active\">\r\n                    <van-step v-for=\"log in item.orderLogs\" :key=\"log.logContent\">\r\n                        <h5>{{log.logContent}}</h5>\r\n                    </van-step>\r\n                </van-steps>\r\n\r\n            </van-collapse-item>\r\n        </van-collapse>\r\n\r\n        <van-tabbar v-model=\"active\" v-if=\"item.state==1\">\r\n            <van-button type=\"danger\" @click=\"orderpay\" size=\"large\">确认支付</van-button>\r\n        </van-tabbar>\r\n    </div>\r\n</template>\r\n<script>\r\n    import global from \"../../common\";\r\n    import {\r\n        Button,\r\n        Toast,\r\n        Dialog,\r\n        Tab,\r\n        Tabs,\r\n        Panel,\r\n        Tag,\r\n        Image,\r\n        Cell,\r\n        NavBar,\r\n        Collapse,\r\n        CollapseItem,\r\n        Step, Steps,\r\n        Tabbar,\r\n        TabbarItem,\r\n    } from \"vant\";\r\n    export default {\r\n        components: {\r\n            [Button.name]: Button,\r\n            [Toast.name]: Toast,\r\n            [Dialog.name]: Dialog,\r\n            [Tabs.name]: Tabs,\r\n            [Tab.name]: Tab,\r\n            [Panel.name]: Panel,\r\n            [Tag.name]: Tag,\r\n            [Image.name]: Image,\r\n            [Cell.name]: Cell,\r\n            [NavBar.name]: NavBar,\r\n            [Collapse.name]: Collapse,\r\n            [CollapseItem.name]: CollapseItem,\r\n            [Step.name]: Step,\r\n            [Steps.name]: Steps,\r\n            [Tabbar.name]: Tabbar,\r\n            [TabbarItem.name]: TabbarItem,\r\n        },\r\n        data: function () {\r\n            return {\r\n                active: 0,\r\n                activeName: ['1'],\r\n                item: {\r\n                    createTime: \"\",\r\n                    id: \"\",\r\n                    orderItems: [],\r\n                    orderLogs: [],\r\n                    orderNo: \"\",\r\n                    state: 0,\r\n                    time: \"\",\r\n                    totalPrice: \"\"\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            back() {\r\n                history.back(-1);\r\n            },\r\n            orderpay() {\r\n                var router = this.$router;\r\n                global.ajaxPost(\"/api/orderservice/orderpay/excute\", { OrderId: this.item.id }, function (result) {\r\n                    if (result.code == 0) {\r\n                        Toast({\r\n                            message: \"订单支付成功\", duration: 1500, onClose: function () {\r\n                                router.push({ name: \"orderlist\", params: { type: 2 } })\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            if (this.$route.params.item != undefined) {\r\n                this.item.createTime = this.$route.params.item.createTime;\r\n                this.item.id = this.$route.params.item.id;\r\n                this.item.orderItems = this.$route.params.item.orderItems;\r\n                this.item.orderLogs = this.$route.params.item.orderLogs;\r\n                this.item.orderNo = this.$route.params.item.orderNo;\r\n                this.item.state = this.$route.params.item.state;\r\n                this.item.time = this.$route.params.item.time;\r\n                this.item.totalPrice = this.$route.params.item.totalPrice;\r\n            }\r\n        }\r\n    };\r\n</script>"]}]}